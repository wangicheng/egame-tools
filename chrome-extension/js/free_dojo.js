/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this extension
*/

(() => {
  // src/entry-points/free_dojo.ts
  {
    const observer = new MutationObserver(function(mutationList, observer2) {
      if (!location.hash.startsWith("#dojo/view/")) {
        return;
      }
      const playButton = document.querySelector('div[data-bind="click:play"]');
      if (playButton && !document.querySelector("#clone-play-button")) {
        const parent = playButton.parentElement;
        const cloneButton = playButton.cloneNode(true);
        cloneButton.id = "clone-play-button";
        cloneButton.querySelector("p").textContent = "免費闖關";
        cloneButton.addEventListener("click", () => {
          const dojoId = location.hash.split("/").at(-1);
          document.cookie = `dojoSn=${dojoId}; domain=.egame.kh.edu.tw; path=/`;
          location.href = "/auth/dotCode/apps/dojo/#play";
        });
        parent.appendChild(cloneButton);
        playButton.style.display = "none";
      }
    });
    observer.observe(document.documentElement, { attributes: false, childList: true, subtree: true });
  }
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vc3JjL2VudHJ5LXBvaW50cy9mcmVlX2Rvam8udHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIntcclxuICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbkxpc3QsIG9ic2VydmVyKSB7XHJcbiAgICBpZighbG9jYXRpb24uaGFzaC5zdGFydHNXaXRoKCcjZG9qby92aWV3LycpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHBsYXlCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXZbZGF0YS1iaW5kPVwiY2xpY2s6cGxheVwiXScpO1xyXG4gICAgaWYgKHBsYXlCdXR0b24gJiYgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjbG9uZS1wbGF5LWJ1dHRvbicpKSB7XHJcbiAgICAgIC8vIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgY29uc3QgcGFyZW50ID0gcGxheUJ1dHRvbi5wYXJlbnRFbGVtZW50O1xyXG4gICAgICBjb25zdCBjbG9uZUJ1dHRvbiA9IHBsYXlCdXR0b24uY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICBjbG9uZUJ1dHRvbi5pZCA9ICdjbG9uZS1wbGF5LWJ1dHRvbic7XHJcbiAgICAgIGNsb25lQnV0dG9uLnF1ZXJ5U2VsZWN0b3IoJ3AnKS50ZXh0Q29udGVudCA9ICflhY3osrvpl5bpl5wnO1xyXG4gICAgICBjbG9uZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBjb25zdCBkb2pvSWQgPSBsb2NhdGlvbi5oYXNoLnNwbGl0KCcvJykuYXQoLTEpO1xyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGBkb2pvU249JHtkb2pvSWR9OyBkb21haW49LmVnYW1lLmtoLmVkdS50dzsgcGF0aD0vYDtcclxuICAgICAgICBsb2NhdGlvbi5ocmVmID0gJy9hdXRoL2RvdENvZGUvYXBwcy9kb2pvLyNwbGF5JztcclxuICAgICAgfSk7XHJcbiAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChjbG9uZUJ1dHRvbik7XHJcbiAgICAgIHBsYXlCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH1cclxuICB9KTtcclxuICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgeyBhdHRyaWJ1dGVzOiBmYWxzZSwgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pO1xyXG59Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7OztBQUFBO0FBQ0UsVUFBTSxXQUFXLElBQUksaUJBQWlCLFNBQVUsY0FBY0EsV0FBVTtBQUN0RSxVQUFHLENBQUMsU0FBUyxLQUFLLFdBQVcsYUFBYSxHQUFHO0FBQzNDO0FBQUEsTUFDRjtBQUNBLFlBQU0sYUFBYSxTQUFTLGNBQWMsNkJBQTZCO0FBQ3ZFLFVBQUksY0FBYyxDQUFDLFNBQVMsY0FBYyxvQkFBb0IsR0FBRztBQUUvRCxjQUFNLFNBQVMsV0FBVztBQUMxQixjQUFNLGNBQWMsV0FBVyxVQUFVLElBQUk7QUFDN0Msb0JBQVksS0FBSztBQUNqQixvQkFBWSxjQUFjLEdBQUcsRUFBRSxjQUFjO0FBQzdDLG9CQUFZLGlCQUFpQixTQUFTLE1BQU07QUFDMUMsZ0JBQU0sU0FBUyxTQUFTLEtBQUssTUFBTSxHQUFHLEVBQUUsR0FBRyxFQUFFO0FBQzdDLG1CQUFTLFNBQVMsVUFBVSxNQUFNO0FBQ2xDLG1CQUFTLE9BQU87QUFBQSxRQUNsQixDQUFDO0FBQ0QsZUFBTyxZQUFZLFdBQVc7QUFDOUIsbUJBQVcsTUFBTSxVQUFVO0FBQUEsTUFDN0I7QUFBQSxJQUNGLENBQUM7QUFDRCxhQUFTLFFBQVEsU0FBUyxpQkFBaUIsRUFBRSxZQUFZLE9BQU8sV0FBVyxNQUFNLFNBQVMsS0FBSyxDQUFDO0FBQUEsRUFDbEc7IiwKICAibmFtZXMiOiBbIm9ic2VydmVyIl0KfQo=
